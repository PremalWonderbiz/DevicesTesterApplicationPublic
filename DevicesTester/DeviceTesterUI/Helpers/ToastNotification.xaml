<UserControl x:Class="DeviceTesterUI.Helpers.ToastNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="Root"
             Visibility="Collapsed">
    <UserControl.Resources>
        <!-- Fade In -->
        <Storyboard x:Key="FadeIn">
            <DoubleAnimation Storyboard.TargetName="ToastBorder"
                         Storyboard.TargetProperty="Opacity"
                         From="0" To="0.97"
                         Duration="0:0:0.05"
                         FillBehavior="HoldEnd"/>
        </Storyboard>

        <!-- Fade Out -->
        <Storyboard x:Key="FadeOut">
            <DoubleAnimation Storyboard.TargetName="ToastBorder"
                         Storyboard.TargetProperty="Opacity"
                         From="0.97" To="0"
                         Duration="0:0:0.2"
                         FillBehavior="HoldEnd"/>
        </Storyboard>
    </UserControl.Resources>

    <Border x:Name="ToastBorder"
            Background="White"
            BorderBrush="{Binding BorderBrush, ElementName=Root}"
            BorderThickness="2"
            CornerRadius="6"
            Padding="10"
            Width="350"
            Opacity="0.97"
            HorizontalAlignment="Center"
            VerticalAlignment="Center">
        <Border.Effect>
            <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.5"/>
        </Border.Effect>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Text="{Binding Message, ElementName=Root}"
                       Foreground="{Binding TextColor, ElementName=Root}"
                       FontWeight="Bold"
                       FontSize="12"
                       TextWrapping="Wrap"
                       VerticalAlignment="Center"
                       Margin="0,0,8,0"/>

            <Button Content="✕"
                    Width="20"
                    Height="20"
                    FontWeight="Bold"
                    Foreground="{Binding TextColor, ElementName=Root}"
                    Background="Transparent"
                    BorderThickness="0"
                    Grid.Column="1"
                    VerticalAlignment="Top"
                    HorizontalAlignment="Right"
                    Cursor="Hand"
                    Click="CloseButton_Click"/>
        </Grid>
    </Border>
</UserControl>